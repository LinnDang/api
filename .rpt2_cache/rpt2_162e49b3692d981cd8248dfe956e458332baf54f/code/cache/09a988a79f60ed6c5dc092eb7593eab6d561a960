{"code":"// Copyright 2017-2019 @polkadot/api-derive authors & contributors\r\n// This software may be modified and distributed under the terms\r\n// of the Apache-2.0 license. See the LICENSE file for details.\r\nimport { of } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { drr } from '../util/drr';\r\n/**\r\n * @description Return a boolean array indicating whether the passed accounts had received heartbeats in the current session\r\n */\r\nexport function receivedHeartbeats(api) {\r\n    return (addresses) => {\r\n        return api.query.imOnline && api.query.imOnline.receivedHeartbeats\r\n            ? api.query.session\r\n                .currentIndex()\r\n                .pipe(switchMap((currentIndex) => api.query.imOnline.receivedHeartbeats.multi(addresses.map((address) => [currentIndex, address]))), map((heartbeats) => heartbeats.map((heartbeat) => !heartbeat.isEmpty)), drr())\r\n            : of([...new Array(addresses.length).keys()].map(() => false));\r\n    };\r\n}\r\n","references":["/Users/jacogreeff/Projects/polkadot/api/packages/types/src/interfaces/index.ts","/Users/jacogreeff/Projects/polkadot/api/node_modules/rxjs/index.d.ts","/Users/jacogreeff/Projects/polkadot/api/node_modules/rxjs/operators/index.d.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api/src/types.ts","/Users/jacogreeff/Projects/polkadot/api/packages/types/src/index.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api-derive/src/util/drr.ts"],"dts":{"name":"/Users/jacogreeff/Projects/polkadot/api/api-derive/src/imOnline/receivedHeartbeats.d.ts","writeByteOrderMark":false,"text":"import { AccountId } from '@polkadot/types/interfaces';\r\nimport { Observable } from 'rxjs';\r\nimport { ApiInterfaceRx } from '@polkadot/api/types';\r\n/**\r\n * @description Return a boolean array indicating whether the passed accounts had received heartbeats in the current session\r\n */\r\nexport declare function receivedHeartbeats(api: ApiInterfaceRx): (addresses: (AccountId | string)[]) => Observable<boolean[]>;\r\n"}}
