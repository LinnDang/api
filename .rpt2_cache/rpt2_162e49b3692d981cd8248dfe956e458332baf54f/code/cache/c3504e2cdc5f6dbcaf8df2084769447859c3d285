{"code":"// Copyright 2017-2019 @polkadot/api-derive authors & contributors\r\n// This software may be modified and distributed under the terms\r\n// of the Apache-2.0 license. See the LICENSE file for details.\r\nimport { of } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { idAndIndex } from '../accounts/idAndIndex';\r\nimport { drr } from '../util/drr';\r\nimport { votingBalances } from './votingBalances';\r\nexport function votingBalancesNominatorsFor(api) {\r\n    return (address) => {\r\n        return idAndIndex(api)(address).pipe(switchMap(([accountId]) => accountId\r\n            ? (api.query.staking.nominatorsFor(accountId))\r\n            : of([])), switchMap(votingBalances(api)), drr());\r\n    };\r\n}\r\n","references":["/Users/jacogreeff/Projects/polkadot/api/packages/types/src/interfaces/index.ts","/Users/jacogreeff/Projects/polkadot/api/node_modules/rxjs/index.d.ts","/Users/jacogreeff/Projects/polkadot/api/node_modules/rxjs/operators/index.d.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api/src/types.ts","/Users/jacogreeff/Projects/polkadot/api/packages/types/src/index.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api-derive/src/accounts/idAndIndex.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api-derive/src/types.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api-derive/src/util/drr.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api-derive/src/balances/votingBalances.ts"],"dts":{"name":"/Users/jacogreeff/Projects/polkadot/api/api-derive/src/balances/votingBalancesNominatorsFor.d.ts","writeByteOrderMark":false,"text":"import { AccountId, AccountIndex, Address } from '@polkadot/types/interfaces';\r\nimport { Observable } from 'rxjs';\r\nimport { ApiInterfaceRx } from '@polkadot/api/types';\r\nimport { DerivedBalances } from '../types';\r\nexport declare function votingBalancesNominatorsFor(api: ApiInterfaceRx): (address: AccountId | AccountIndex | Address | string) => Observable<DerivedBalances[]>;\r\n"}}
