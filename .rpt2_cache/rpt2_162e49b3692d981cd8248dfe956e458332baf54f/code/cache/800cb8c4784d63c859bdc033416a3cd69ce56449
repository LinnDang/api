{"code":"// Copyright 2017-2019 @polkadot/api-derive authors & contributors\r\n// This software may be modified and distributed under the terms\r\n// of the Apache-2.0 license. See the LICENSE file for details.\r\nimport { map } from 'rxjs/operators';\r\nimport { drr } from '../util/drr';\r\n/**\r\n * @description Retrieve a keyed record of accounts recently reported to be offline\r\n */\r\nexport function recentlyOffline(api) {\r\n    return () => api.query.staking\r\n        .recentlyOffline()\r\n        .pipe(map((recentlyOffline) => recentlyOffline.reduce((result, [accountId, blockNumber, count]) => {\r\n        const key = accountId.toString();\r\n        if (!result[key]) {\r\n            result[key] = [];\r\n        }\r\n        result[key].push({\r\n            blockNumber,\r\n            count\r\n        });\r\n        return result;\r\n    }, {})), drr());\r\n}\r\n","references":["/Users/jacogreeff/Projects/polkadot/api/packages/types/src/interfaces/index.ts","/Users/jacogreeff/Projects/polkadot/api/packages/types/src/types.ts","/Users/jacogreeff/Projects/polkadot/api/node_modules/@types/bn.js/index.d.ts","/Users/jacogreeff/Projects/polkadot/api/node_modules/rxjs/index.d.ts","/Users/jacogreeff/Projects/polkadot/api/node_modules/rxjs/operators/index.d.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api/src/types.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api-derive/src/types.ts","/Users/jacogreeff/Projects/polkadot/api/packages/api-derive/src/util/drr.ts"],"dts":{"name":"/Users/jacogreeff/Projects/polkadot/api/api-derive/src/staking/recentlyOffline.d.ts","writeByteOrderMark":false,"text":"import { Observable } from 'rxjs';\r\nimport { ApiInterfaceRx } from '@polkadot/api/types';\r\nimport { DerivedRecentlyOffline } from '../types';\r\n/**\r\n * @description Retrieve a keyed record of accounts recently reported to be offline\r\n */\r\nexport declare function recentlyOffline(api: ApiInterfaceRx): () => Observable<DerivedRecentlyOffline>;\r\n"}}
